%% lecture-personal.sty
%%
%% --------------------------------------------------------------------------
%%
%% Autor: Florian Sihler, 3.11.2020
%%
%% Float modifications i use in my scripts

\ProvidesPackage{lecture-personal}[2020/11/03 v1.0 Personal collection]

\RequirePackage{kvoptions,etoolbox}
\SetupKeyvalOptions{family=LPM,prefix=LPM@}

\edef\@lecture@personal@noextra{LECTURE@PERSONAL@NOEXTRA}

\DeclareStringOption{imgprefix}
\DeclareStringOption{command}
\DeclareStringOption[\@lecture@personal@noextra]{extras}[\@lecture@personal@noextra]

\ProcessKeyvalOptions*\relax%

\RequirePackage{lecture-personal-float,lecture-personal-general,lecture-personal-tikz,lecture-personal-glossary,lecture-personal-tabular,lecture-personal-resize}
\RequirePackage[imgprefix=\LPM@imgprefix,command=\LPM@command]{lecture-personal-profiles}

% if supertabular is loaded, they would conflict :)))
\let\tablehead\undefined \let\tablefirsthead\undefined
\let\tabletail\undefined \let\tablelasttail\undefined
\let\sttraceon\undefined \let\sttraceoff\undefined
\let\ST@trace\undefined  \let\shrinkheight\undefined
\let\setSTheight\undefined

\RequirePackage{subcaption,xtab}
\appto\captionsngerman{\renewcommand{\equationautorefname}{Formel}}
\appto\captionsenglish{\renewcommand{\equationautorefname}{Equation}}

\edef\@lecture@personal@tmp{\LPM@extras}
\ifx\@lecture@personal@tmp\@lecture@personal@noextra\else
\def\@lecture@personal@loadextras#1{\AtEndPreamble{\RequirePackage{lecture-personal-extra-#1}}}
\expandafter\forcsvlist\expandafter\@lecture@personal@loadextras\expandafter{\@lecture@personal@tmp}
\fi
\endinput