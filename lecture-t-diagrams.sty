%% lecture-t-diagrams.sty
%%
%% --------------------------------------------------------------------------
%%
%% Autor: Florian Sihler, 25.10.2020
%%
%% tikz extension for t-diagrams
%%
\ProvidesPackage{lecture-t-diagrams}[2020/11/06 v1.0 t-diagrams]

% two hours wasted to do it with shapes. Lets do it simpler

\newlength\tblocksize \tblocksize=0.9cm

\newlength\tblockoffset \tblockoffset=0.33em
\tikzset{%
  tblock/.style={text width=\tblocksize,inner sep=\z@,align=center,minimum height=\tblocksize},%
  tborder/.style={semithick},%
}
% #1 name
% #2 position
% #3 left
% #4 right
% #5 down
\newcommand*\tblock[5][]{%
  \draw[tborder] (#2) -| ++(3*\tblocksize,-\tblocksize) -| ++(-\tblocksize,-\tblocksize) -| ++(-\tblocksize,\tblocksize) -| cycle;
  \path (#2)++(\tblocksize/2,-\tblocksize/2) node[tblock] (#1-left) {\textit{#3}};
  \path (#2)++(\tblocksize/2+\tblocksize,-\tblocksize/2) node[tblock] (#1-mid) {$\longrightarrow$};
  \path (#2)++(\tblocksize/2+2*\tblocksize,-\tblocksize/2) node[tblock] (#1-right) {\textit{#4}};
  \path (#2)++(\tblocksize/2+\tblocksize,-\tblocksize/2-\tblocksize) node[tblock] (#1-down) {\textit{#5}};
}


\endinput